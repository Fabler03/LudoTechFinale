import{a as U}from"./chunk-NQ5R2RLE.js";import{c as R}from"./chunk-XOXIFAI4.js";import"./chunk-FG76RZX6.js";import{$a as M,A as l,C as d,D as n,E as a,F as g,G as S,H as C,Ha as D,J as x,K as v,L as u,T as m,U as b,ab as T,ca as w,cb as P,da as G,eb as z,fb as O,ga as y,gb as k,hb as F,ib as V,l as _,m as h,nb as A,oa as E,ob as j,rb as $,s as f,sb as N,u as c,v as p,x as I}from"./chunk-ABGFETKJ.js";import"./chunk-7DWWQGY5.js";import"./chunk-RUV3JLHO.js";import"./chunk-4QCDUIMV.js";import"./chunk-PZSC2JZC.js";import"./chunk-HC6MZPB3.js";import"./chunk-RWUDUHQX.js";import"./chunk-OYGTIZD7.js";import"./chunk-3H72FJST.js";import"./chunk-LDMQELEG.js";import"./chunk-LEIMCQKJ.js";import"./chunk-ZOGHNDC5.js";import"./chunk-57V45CII.js";import"./chunk-RTD7OIC3.js";import"./chunk-5OMUW5VI.js";import"./chunk-OBXDPQ3V.js";import"./chunk-FQYCRHA2.js";import"./chunk-MCRJI3T3.js";import"./chunk-MJBR6MFX.js";import"./chunk-DPWJJFUE.js";import"./chunk-LZRXIYDK.js";import"./chunk-AYPA7D57.js";import"./chunk-NH7O73XC.js";import"./chunk-LYYJ2XOB.js";import"./chunk-4U6PRYVA.js";import"./chunk-U6SBTS4X.js";import"./chunk-JWIEPCRG.js";import"./chunk-C5RQ2IC2.js";import"./chunk-D4VGNZLR.js";import"./chunk-JHLW7V75.js";import"./chunk-SV7S5NYR.js";import"./chunk-RW4GY4BD.js";function q(i,o){if(i&1){let t=x();n(0,"ion-col",4),v("click",function(){let r=_(t).$implicit,s=u();return h(s.openGame(r.id))}),n(1,"ion-card",5),g(2,"img",6),n(3,"ion-card-header")(4,"ion-card-title"),m(5),a()()()()}if(i&2){let t=o.$implicit;c(2),d("src","http://localhost:3000/uploads/"+t.name+"/"+t.icon,f),c(3),b(t.name)}}function B(i,o){i&1&&(S(0),n(1,"p",7),m(2,"Nessun gioco in attesa di approvazione."),a(),C())}function H(i,o){if(i&1){let t=x();n(0,"ion-col",4),v("click",function(){let r=_(t).$implicit,s=u(2);return h(s.openGame(r.id))}),n(1,"ion-card",5),g(2,"img",6),n(3,"ion-card-header")(4,"ion-card-title"),m(5),a()()()()}if(i&2){let t=o.$implicit;c(2),d("src","http://localhost:3000/uploads/"+t.name+"/"+t.icon,f),c(3),b(t.name)}}function Y(i,o){if(i&1&&(n(0,"ion-card")(1,"ion-card-header")(2,"ion-card-title"),m(3,"Giochi in attesa di approvazione"),a()(),l(4,B,3,0,"ng-container",3),n(5,"ion-grid")(6,"ion-row"),l(7,H,6,2,"ion-col",2),a()()()),i&2){let t=u();c(4),d("ngIf",t.unapprovedGames.length===0),c(3),d("ngForOf",t.unapprovedGames)}}var ie=(()=>{let o=class o{constructor(e,r,s){this.gameService=e,this.router=r,this.authService=s,this.approvedGames=[],this.unapprovedGames=[],this.isAdmin=!1}ngOnInit(){}ionViewDidEnter(){this.isAdmin=this.authService.hasRole("admin"),this.gameService.getApprovedGames().subscribe({next:e=>{this.approvedGames=e.games},error:e=>console.error("Errore nel recupero dei giochi",e)}),this.isAdmin&&this.gameService.getUnapprovedGames().subscribe({next:e=>{this.unapprovedGames=e.games},error:e=>console.error("Errore nel recupero dei giochi",e)})}openGame(e){this.router.navigate(["/home/game/",e])}};o.\u0275fac=function(r){return new(r||o)(p(U),p(E),p(R))},o.\u0275cmp=I({type:o,selectors:[["app-dashboard"]],decls:12,vars:3,consts:[[3,"translucent"],["slot","start"],["size","6","sizeMd","3","style","cursor: pointer",3,"click",4,"ngFor","ngForOf"],[4,"ngIf"],["size","6","sizeMd","3",2,"cursor","pointer",3,"click"],[1,"game-card"],["alt","Icona",1,"square",3,"src"],[2,"padding","20px"]],template:function(r,s){r&1&&(n(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-buttons",1),g(3,"ion-menu-button"),a(),n(4,"ion-title"),m(5,"Dashboard"),a()()(),n(6,"ion-content")(7,"ion-card")(8,"ion-grid")(9,"ion-row"),l(10,q,6,2,"ion-col",2),a()()(),l(11,Y,8,2,"ion-card",3),a()),r&2&&(d("translucent",!0),c(10),d("ngForOf",s.approvedGames),c(),d("ngIf",s.isAdmin))},dependencies:[k,z,P,F,V,$,N,y,w,G,D,j,O,T,M,A],styles:[".square[_ngcontent-%COMP%]{width:100%;aspect-ratio:1/1;object-fit:cover;border-radius:16px;margin-top:8px}.game-card[_ngcontent-%COMP%]{width:90%;max-width:250px;margin:8px;background-color:#1a1d1f;padding:10px;height:90%;display:flex;flex-direction:column;align-items:center;justify-content:center;border-radius:8px;box-shadow:0 4px 8px #1311531a;border:#272f37 solid 2px;transition:transform .3s ease,box-shadow .3s ease}.game-card[_ngcontent-%COMP%]:hover{transform:translateY(-5px);box-shadow:0 6px 12px #0003}"]});let i=o;return i})();export{ie as DashboardPage};
