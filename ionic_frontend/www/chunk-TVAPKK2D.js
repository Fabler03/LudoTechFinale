import{a as w,c as B}from"./chunk-XOXIFAI4.js";import"./chunk-FG76RZX6.js";import{$a as v,C as u,D as i,E as e,F as f,K as h,T as t,V as s,_a as I,ab as x,bb as S,cb as C,eb as E,ga as g,gb as b,ib as y,nb as L,rb as T,sb as U,u as a,v as m,x as p}from"./chunk-ABGFETKJ.js";import"./chunk-7DWWQGY5.js";import"./chunk-RUV3JLHO.js";import"./chunk-4QCDUIMV.js";import"./chunk-PZSC2JZC.js";import"./chunk-HC6MZPB3.js";import"./chunk-RWUDUHQX.js";import"./chunk-OYGTIZD7.js";import"./chunk-3H72FJST.js";import"./chunk-LDMQELEG.js";import"./chunk-LEIMCQKJ.js";import"./chunk-ZOGHNDC5.js";import"./chunk-57V45CII.js";import"./chunk-RTD7OIC3.js";import"./chunk-5OMUW5VI.js";import"./chunk-OBXDPQ3V.js";import"./chunk-FQYCRHA2.js";import"./chunk-MCRJI3T3.js";import"./chunk-MJBR6MFX.js";import"./chunk-DPWJJFUE.js";import"./chunk-LZRXIYDK.js";import"./chunk-AYPA7D57.js";import"./chunk-NH7O73XC.js";import"./chunk-LYYJ2XOB.js";import"./chunk-4U6PRYVA.js";import"./chunk-U6SBTS4X.js";import"./chunk-JWIEPCRG.js";import"./chunk-C5RQ2IC2.js";import"./chunk-D4VGNZLR.js";import"./chunk-JHLW7V75.js";import"./chunk-SV7S5NYR.js";import{f as d}from"./chunk-RW4GY4BD.js";var H=(()=>{let o=class o{constructor(n,r){this.authService=n,this.alertController=r,this.username="",this.email="",this.role="",this.username="",this.email="",this.role=""}confirmLogout(){return d(this,null,function*(){yield(yield this.alertController.create({header:"Conferma Logout",message:"Sei sicuro di voler uscire?",buttons:[{text:"Annulla",role:"cancel"},{text:"Logout",handler:()=>{this.authService.logout("Logout effettuato con successo.")}}]})).present()})}ngOnInit(){}ionViewDidEnter(){this.loadUser()}loadUser(){let n=this.authService.getUserInfo();if(!n){this.authService.logout("Sessione scaduta, effettua il login");return}this.username=n.username,this.email=n.email,this.role=n.role}};o.\u0275fac=function(r){return new(r||o)(m(B),m(w))},o.\u0275cmp=p({type:o,selectors:[["app-user"]],decls:26,vars:6,consts:[[3,"translucent"],["slot","start"],[1,"ion-padding",3,"fullscreen"],["expand","full","color","danger",2,"padding","20px",3,"click"]],template:function(r,l){r&1&&(i(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-buttons",1),f(3,"ion-menu-button"),e(),i(4,"ion-title"),t(5,"Il mio account"),e()()(),i(6,"ion-content",2)(7,"ion-card")(8,"ion-card-header")(9,"ion-card-title"),t(10),e()(),i(11,"ion-card-content")(12,"p")(13,"strong"),t(14,"Username:"),e(),t(15),e(),i(16,"p")(17,"strong"),t(18,"Email:"),e(),t(19),e(),i(20,"p")(21,"strong"),t(22,"role:"),e(),t(23),e(),i(24,"ion-button",3),h("click",function(){return l.confirmLogout()}),t(25," Logout "),e()()()()),r&2&&(u("translucent",!0),a(6),u("fullscreen",!0),a(4),s("Bentornato, ",l.username,""),a(5),s(" ",l.username,""),a(4),s(" ",l.email,""),a(4),s(" ",l.role,""))},dependencies:[I,S,E,C,x,b,y,T,U,v,g,L],encapsulation:2});let c=o;return c})();export{H as UserPage};
