import{b as U,c as J}from"./chunk-XOXIFAI4.js";import"./chunk-FG76RZX6.js";import{Aa as P,C as c,D as n,E as o,Fa as F,Ha as W,J as I,K as _,S as M,T as a,W as f,X as h,Y as w,_a as B,ab as R,bb as j,cb as k,eb as q,ga as b,gb as x,ib as A,jb as D,kb as H,l as m,m as u,oa as v,pa as L,rb as O,sb as z,u as d,v as g,vb as G,wa as T,x as S,xa as E,ya as V,za as N}from"./chunk-ABGFETKJ.js";import"./chunk-7DWWQGY5.js";import"./chunk-RUV3JLHO.js";import"./chunk-4QCDUIMV.js";import"./chunk-PZSC2JZC.js";import"./chunk-HC6MZPB3.js";import"./chunk-RWUDUHQX.js";import"./chunk-OYGTIZD7.js";import"./chunk-3H72FJST.js";import"./chunk-LDMQELEG.js";import"./chunk-LEIMCQKJ.js";import"./chunk-ZOGHNDC5.js";import"./chunk-57V45CII.js";import"./chunk-RTD7OIC3.js";import"./chunk-5OMUW5VI.js";import"./chunk-OBXDPQ3V.js";import"./chunk-FQYCRHA2.js";import"./chunk-MCRJI3T3.js";import"./chunk-MJBR6MFX.js";import"./chunk-DPWJJFUE.js";import"./chunk-LZRXIYDK.js";import"./chunk-AYPA7D57.js";import"./chunk-NH7O73XC.js";import"./chunk-LYYJ2XOB.js";import"./chunk-4U6PRYVA.js";import"./chunk-U6SBTS4X.js";import"./chunk-JWIEPCRG.js";import"./chunk-C5RQ2IC2.js";import"./chunk-D4VGNZLR.js";import"./chunk-JHLW7V75.js";import"./chunk-SV7S5NYR.js";import{f as y}from"./chunk-RW4GY4BD.js";var ne=(()=>{let s=class s{constructor(t,i,e){this.authService=t,this.router=i,this.toastController=e,this.username="",this.password=""}presentToast(t,i="danger"){return y(this,null,function*(){yield(yield this.toastController.create({message:t,duration:2e3,color:i,position:"top"})).present()})}login(){this.authService.login(this.username,this.password).subscribe({next:t=>{console.log("Login riuscito",t),this.presentToast("Login riuscito","success"),this.router.navigate(["/home"])},error:t=>{var e;let i=((e=t.error)==null?void 0:e.message)||"Errore sconosciuto";console.error("Errore di login:",t),this.presentToast(`Login fallito: ${i}`,"danger")}})}ngOnInit(){}};s.\u0275fac=function(i){return new(i||s)(g(J),g(v),g(U))},s.\u0275cmp=S({type:s,selectors:[["app-login"]],decls:24,vars:5,consts:[["loginForm","ngForm"],[3,"translucent"],[1,"ion-padding",3,"fullscreen"],[3,"ngSubmit"],["position","floating"],["type","username","name","username","required","",3,"ngModelChange","ngModel"],["type","password","name","password","required","",3,"ngModelChange","ngModel"],["expand","block","type","submit",1,"ion-margin-top",3,"disabled"],["fill","clear","routerLink","/register",1,"ion-margin-top"]],template:function(i,e){if(i&1){let l=I();n(0,"ion-header",1)(1,"ion-toolbar")(2,"ion-title"),a(3,"Login"),o()()(),n(4,"ion-content",2)(5,"ion-card")(6,"ion-card-header")(7,"ion-card-title"),a(8,"Benvenuto in LudoTech! effettua il login per iniziare."),o()(),n(9,"ion-card-content")(10,"form",3,0),_("ngSubmit",function(){return m(l),u(e.login())}),n(12,"ion-item")(13,"ion-label",4),a(14,"Username"),o(),n(15,"ion-input",5),w("ngModelChange",function(r){return m(l),h(e.username,r)||(e.username=r),u(r)}),o()(),n(16,"ion-item")(17,"ion-label",4),a(18,"Password"),o(),n(19,"ion-input",6),w("ngModelChange",function(r){return m(l),h(e.password,r)||(e.password=r),u(r)}),o()(),n(20,"ion-button",7),a(21," Accedi "),o()(),n(22,"ion-button",8),a(23," Non hai un account? Registrati! "),o()()()()}if(i&2){let l=M(11);c("translucent",!0),d(4),c("fullscreen",!0),d(11),f("ngModel",e.username),d(4),f("ngModel",e.password),d(),c("disabled",!l.form.valid)}},dependencies:[q,j,B,k,R,x,A,O,z,b,W,P,T,E,F,N,V,D,H,G,L],styles:[".active[_ngcontent-%COMP%]{color:red}"]});let p=s;return p})();export{ne as LoginPage};
